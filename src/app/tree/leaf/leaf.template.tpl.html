<li class="leaf-wrapper" ng-init="leaf = leafCtrl.leafData; trunk = leafCtrl.parent" ng-if="leafCtrl">

  <div class="leaf-container">
    <div class="leaf-infos"
         ng-click="trunk.selectLeaf(leafCtrl, $event)"
         ng-class="{'selected': leafCtrl.leafData.isSelected()}">
      
      <span class="glyphicon "
            ng-click="leafCtrl.toggleExpanded($event);"
            ng-show="leaf.hasChildren()"
            ng-class="leaf.isExpanded() ? 'glyphicon-menu-down':'glyphicon-menu-right'">
      </span>

      <span class="title">{{ leaf.getLabel() +' - '+ leaf.isSelected() }}</span>
    </div>

    <ul class="tree-list" ng-show="leaf.isExpanded()">
      <tree-leaf
        ng-repeat="childrenLeafs in leaf.getLeafs()"
        leaf-data="childrenLeafs"
        index="$index"
      ></tree-leaf>
    </ul>
  </div>
</li>